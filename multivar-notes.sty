%% Class declaration
\NeedsTeXFormat{LaTeX2e}
\ProvidesClass{multivar-notes}

%% Input and layout
\RequirePackage[utf8]{inputenc}
\RequirePackage[english]{babel}
\RequirePackage{amsmath}
\RequirePackage[T1]{fontenc}
\RequirePackage{textcomp}
\RequirePackage[utf8]{inputenc}
\RequirePackage{amsfonts}
\RequirePackage{amssymb}
\RequirePackage{pxfonts}
% \RequirePackage{tgpagella}
\RequirePackage{eulerpx}
% \RequirePackage{euler}
% \RequirePackage{mathpazo} % text font is mathpazo
% \RequirePackage[euler-digits,euler-hat-accent]{eulervm} % math font: AMS Euler
% \RequirePackage[notext, lighttext, intlimits]{kpfonts} % math font is kp-fonts
\RequirePackage{microtype} % optimizes spacing for text
\RequirePackage{geometry}
\geometry{ % defines page margins and spacing
  top=0.95in,
  inner=1.2in,
  outer=1.2in,
  bottom=1.2in,
  headsep=2ex,
  foot=36pt}

\RequirePackage[bottom]{footmisc}

\RequirePackage{fancyhdr}
\pagestyle{myheadings}
\pagestyle{fancy}
\fancyhf{}
\title{MA662 â€“ Multivariable Calculus}
\lhead{\small Jiahua Chen}
\rhead{\small \@title}
\cfoot{\small{\textsc{pg. \thepage}}}

\RequirePackage{tkz-euclide,tikz}
\usetkzobj{all}
\RequirePackage{enumerate}
\RequirePackage{soul}
\RequirePackage{parskip}
\RequirePackage{listings}
\RequirePackage{xcolor}

\newcommand{\bm}{\textbf}

\renewcommand{\arraystretch}{0.8}
\renewcommand{\implies}{\Rightarrow}
\renewcommand{\leq}{\leqslant}
\renewcommand{\geq}{\geqslant}

\newcommand{\Df}{\bm{Df}}
\newcommand{\Jf}{\bm{Jf}}

\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\V}[1]{\ensuremath{\Vec{#1}}}
\newcommand{\Point}[1]{\ensuremath{\begin{pmatrix} #1 \end{pmatrix}}}
\newcommand{\mtrx}[1]{\ensuremath{\begin{bmatrix} #1 \end{bmatrix}}}
\newcommand{\Set}[1]{\ensuremath{\left\{ #1 \right\}}}
\newcommand{\System}[1]{\ensuremath{\left( #1 \right)}}
\newcommand{\example}{\noindent \textbf{Example: } }
\newcommand{\Exercise}{\noindent \textbf{Exercise: } }
\newcommand{\Sup}{\ensuremath{\mathrm{sup}}}
\newcommand{\Inf}{\ensuremath{\mathrm{inf}}}
\newcommand{\Max}{\ensuremath{\mathrm{max}}}
\newcommand{\Min}{\ensuremath{\mathrm{min}}}
\newcommand{\createsystem}[2]{\ensuremath{\left(\Vec{#1_1},\dots,\Vec{#1_{#2}}\right)}}
\newcommand{\answer}[1]{\textit{Answer: }\boxed{\text{#1}}}
%\newcommand{\lessondate}[1]{\refstepcounter{lesson} \hfill #1}
\newenvironment{lessondate}[1][]{\begingroup \date{#1} \refstepcounter{lesson} \hfill}{\endgroup}
\newcommand{\Topic}[1]{\ul{\textbf{#1}}}
\newcommand{\Mathematica}[3]{\includegraphics{graphs/#1/gr_gr#2.eps}
\begin{center}\includegraphics[scale=0.7]{graphs/#1/gr_gr#3.eps}\end{center}}

\newcounter{lesson}
\newcounter{statement}[lesson]

\RequirePackage{tcolorbox}
\definecolor{blue}{rgb}{0.2, 0.2, 0.6}
\newenvironment{theorem}[1][Theorem]{\begingroup \refstepcounter{statement} \begin{trivlist} \item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries \thelesson .\thestatement.}]}{\end{trivlist}\endgroup}
\newenvironment{lemma}[1][Lemma]{\begingroup \refstepcounter{statement} \begin{trivlist} \item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries \thelesson .\thestatement.}]}{\end{trivlist}\endgroup}
\newenvironment{exercise}[2][Exercise]{\begingroup \refstepcounter{statement} \begin{trivlist} \item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries #2.}]}{\end{trivlist}\endgroup}
\newenvironment{reflection}[1][Reflection]{\begingroup \refstepcounter{statement} \begin{trivlist} \item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries \thelesson .\thestatement.}]}{\end{trivlist}\endgroup}
\newenvironment{proposition}[1][Proposition]{\begingroup \refstepcounter{statement} \begin{trivlist} \item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries \thelesson .\thestatement.}]}{\end{trivlist}\endgroup}
\newenvironment{corollary}[1][Corollary]{\begingroup \refstepcounter{statement} \begin{trivlist} \item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries \thelesson .\thestatement.}]}{\end{trivlist}\endgroup}
%\newenvironment{defn}[1][Definition]{\begingroup \refstepcounter{statement} \color{blue} \begin{trivlist}
%\item[\hskip \labelsep {\bfseries #1}\hskip \labelsep {\bfseries \thelesson .\thestatement.}]}{\end{trivlist}\endgroup}

\newenvironment{defn}[2][Definition]{\begingroup \refstepcounter{statement}
\begin{tcolorbox}[colframe=blue!80!white,colback=blue!5!white,title=  {\bfseries #1 \thelesson .\thestatement. (#2)},sharpish corners]
}{\end{tcolorbox}\endgroup}

\newenvironment{proof}{\textit{Proof:}}{\hfill$\square$}

\setlength\parindent{0pt}